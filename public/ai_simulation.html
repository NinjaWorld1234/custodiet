<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custodiet AI Simulation: Operation Red Tide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Share Tech Mono', monospace;
            background-color: #050505;
            color: #00ff00;
            overflow: hidden;
        }
        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: rgba(0, 255, 0, 0.3);
            animation: scan 3s linear infinite;
            z-index: 50;
            pointer-events: none;
        }
        @keyframes scan {
            0% { top: -10%; opacity: 0; }
            50% { opacity: 1; }
            100% { top: 110%; opacity: 0; }
        }
        .blinking { animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0; } }
        
        .box { border: 1px solid #333; background: #0a0a0a; }
        .active-box { border: 1px solid #00ff00; box-shadow: 0 0 10px #00ff00; }
        .danger-box { border: 1px solid #ff0000; box-shadow: 0 0 15px #ff0000; }
        
        .progress-bar { transition: width 0.5s ease-out; }
    </style>
</head>
<body class="h-screen w-screen flex flex-col p-4">

    <!-- OVERLAY -->
    <div class="scan-line"></div>
    <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/black-scales.png')] opacity-20 pointer-events-none"></div>

    <!-- HEADER -->
    <header class="flex justify-between items-center border-b border-gray-800 pb-2 mb-4">
        <div>
            <h1 class="text-2xl font-bold tracking-widest text-green-500">CUSTODIET <span class="text-xs text-gray-500">v4.0.1</span></h1>
            <p class="text-xs text-gray-400">AI FUSION ENGINE // <span id="status">STANDBY</span></p>
        </div>
        <div class="text-right">
            <div class="text-xs text-gray-500">SYS TIME</div>
            <div id="clock" class="text-xl">00:00:00</div>
        </div>
    </header>

    <!-- MAIN GRID -->
    <main class="flex-1 grid grid-cols-12 gap-4">
        
        <!-- LEFT: INTELLIGENCE FEED -->
        <div class="col-span-4 box p-4 flex flex-col relative" id="feed-box">
            <h2 class="text-sm text-gray-400 border-b border-gray-800 mb-2">RAW INTELLIGENCE STREAM</h2>
            <div id="feed-content" class="flex-1 overflow-hidden text-xs space-y-2 opacity-50">
                <!-- Content injected via JS -->
            </div>
            <div class="absolute bottom-4 right-4 text-xs text-green-900 animate-pulse">LISTENING...</div>
        </div>

        <!-- CENTER: AI BRAIN -->
        <div class="col-span-4 flex flex-col gap-4">
            <!-- LLM PROCESSOR -->
            <div class="box h-1/2 p-4 flex flex-col items-center justify-center transition-all duration-300" id="llm-box">
                <div class="w-16 h-16 border-2 border-gray-700 rounded-full flex items-center justify-center mb-2 relative">
                    <div id="brain-icon" class="text-2xl opacity-20">üß†</div>
                    <div id="brain-ring" class="absolute inset-0 rounded-full border-t-2 border-transparent animate-spin"></div>
                </div>
                <h3 class="text-sm font-bold text-gray-500">Llama-3 COGNITION</h3>
                <div id="llm-status" class="text-xs mt-2 h-4 text-center text-green-400">IDLE</div>
            </div>

            <!-- FUSION ENGINE -->
            <div class="box h-1/2 p-4 relative" id="fusion-box">
                 <h2 class="text-sm text-gray-400 border-b border-gray-800 mb-2">RISK CALCULATION</h2>
                 <div class="flex items-center justify-between mt-8 px-4">
                     <div class="text-center">
                         <div class="text-xs text-gray-500">THREAT</div>
                         <div id="val-threat" class="text-xl">0.0</div>
                     </div>
                     <div class="text-xl text-gray-700">√ó</div>
                     <div class="text-center">
                         <div class="text-xs text-gray-500">VULN</div>
                         <div id="val-vuln" class="text-xl">0.0</div>
                     </div>
                     <div class="text-xl text-gray-700">=</div>
                     <div class="text-center">
                         <div class="text-xs text-gray-500">RISK</div>
                         <div id="val-risk" class="text-2xl font-bold">0</div>
                     </div>
                 </div>
            </div>
        </div>

        <!-- RIGHT: OUTPUT -->
        <div class="col-span-4 box p-4 flex flex-col" id="output-box">
            <h2 class="text-sm text-gray-400 border-b border-gray-800 mb-2">STRATEGIC OUTPUT</h2>
            <div id="final-alert" class="hidden flex-1 flex flex-col items-center justify-center text-center">
                <div class="text-5xl mb-4">üö®</div>
                <h1 class="text-2xl text-red-500 font-bold blinking">CRITICAL ALERT</h1>
                <p class="text-sm text-red-300 mt-2">HYBRID WARFARE DETECTED</p>
                <div class="mt-4 text-left w-full bg-red-900/20 p-2 border border-red-900 text-xs text-red-200">
                    > SOURCE: GDELT + AIS + CYBER<br>
                    > CONFIDENCE: 98%<br>
                    > ACTION: DEFCON 3
                </div>
            </div>
        </div>

    </main>

    <script>
        const updateTime = () => document.getElementById('clock').innerText = new Date().toISOString().split('T')[1].split('.')[0];
        setInterval(updateTime, 1000);

        const logs = [
            "Initializing neural pathways...",
            "Connecting to Groq API Cloud...",
            "Loading Asset Database...",
            "System Ready."
        ];
        
        const feedContainer = document.getElementById('feed-content');
        logs.forEach(l => {
            const div = document.createElement('div');
            div.innerText = "> " + l;
            feedContainer.appendChild(div);
        });

        // SIMULATION SEQUENCE
        const runSimulation = async () => {
            await new Promise(r => setTimeout(r, 2000));

            // STEP 1: INGEST
            document.getElementById('status').innerText = "INGESTING DATA";
            document.getElementById('feed-box').classList.add('active-box');
            
            const eventMsg = document.createElement('div');
            eventMsg.innerHTML = "> <span class='text-white bg-red-900 px-1'>BREAKING</span> Naval drills announced in Strait of Hormuz. Tone: HOSTILE.";
            feedContainer.prepend(eventMsg);
            
            await new Promise(r => setTimeout(r, 1500));
            document.getElementById('feed-box').classList.remove('active-box');

            // STEP 2: COGNITION
            document.getElementById('status').innerText = "AI PROCESSING";
            const llmBox = document.getElementById('llm-box');
            llmBox.classList.add('active-box');
            document.getElementById('brain-icon').style.opacity = "1";
            document.getElementById('brain-ring').classList.add('border-green-500');
            document.getElementById('llm-status').innerText = "ANALYZING INTENT...";
            
            // Typewriter effect for thought
            const thoughts = ["Parsing semantic context...", "Detecting aggression triggers...", "Correlating with historical data...", "Strategic threat confirmed."];
            for (const t of thoughts) {
                document.getElementById('llm-status').innerText = t;
                await new Promise(r => setTimeout(r, 600));
            }
            
            await new Promise(r => setTimeout(r, 500));
            llmBox.classList.remove('active-box');
            document.getElementById('brain-ring').classList.remove('border-green-500');
            
            // STEP 3: FUSION
            document.getElementById('status').innerText = "CALCULATING RISK";
            const fusionBox = document.getElementById('fusion-box');
            fusionBox.classList.add('active-box');
            
            // Animate numbers
            document.getElementById('val-threat').innerText = "0.9";
            document.getElementById('val-threat').classList.add('text-red-500');
            await new Promise(r => setTimeout(r, 300));
            
            document.getElementById('val-vuln').innerText = "0.8"; 
            document.getElementById('val-vuln').classList.add('text-yellow-500');
            await new Promise(r => setTimeout(r, 300));
            
            document.getElementById('val-risk').innerText = "98";
            document.getElementById('val-risk').classList.add('text-red-600', 'text-4xl');
            
            await new Promise(r => setTimeout(r, 1000));
            fusionBox.classList.remove('active-box');

            // STEP 4: ALERT
            document.getElementById('status').innerText = "‚ö†Ô∏è ACTION REQUIRED";
            document.getElementById('output-box').classList.add('danger-box');
            document.getElementById('final-alert').classList.remove('hidden');
            
            // Play Audio (Simulated)
            // Beep beep
        };

        runSimulation();

    </script>
</body>
</html>
